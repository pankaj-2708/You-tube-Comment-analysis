schema: '2.0'
stages:
  preprocess:
    cmd: python ./src/dvc_pipeline/0_preprocess.py
    deps:
    - path: ./src/dvc_pipeline/0_preprocess.py
      hash: md5
      md5: 414ceb03243cea11e0e7d072a594226b
      size: 7684
    params:
      params.yaml:
        preprocess.char_per_words: true
        preprocess.comment_len: true
        preprocess.word_count: true
    outs:
    - path: ./data/processed/
      hash: md5
      md5: aeea058807d2f9547009cb68df4a297b.dir
      size: 2806255
      nfiles: 1
  transform:
    cmd: python ./src/dvc_pipeline/1_vetorisation.py
    deps:
    - path: ./src/dvc_pipeline/1_vetorisation.py
      hash: md5
      md5: 875828547a947b2c9cd70b7d2c60d432
      size: 5301
    params:
      params.yaml:
        transform.ngram_range: 1,2
        transform.no_of_features: 2000
        transform.standardise: false
        transform.test_size: 0.2
    outs:
    - path: ./data/train_test_split/
      hash: md5
      md5: bd1a6857bddd7170cce99d8ebb9ac1fb.dir
      size: 151460743
      nfiles: 6
  imb:
    cmd: python ./src/dvc_pipeline/2_imb_handling.py
    deps:
    - path: ./src/dvc_pipeline/2_imb_handling.py
      hash: md5
      md5: a2a3b572410859179466fef91b835501
      size: 2181
    params:
      params.yaml:
        imb.over_sampling_tech: none
    outs:
    - path: ./data/oversampled/
      hash: md5
      md5: 77302f5b101812cca495d16f176c3555.dir
      size: 148196516
      nfiles: 2
  model:
    cmd: python ./src/dvc_pipeline/3_model.py
    deps:
    - path: ./src/dvc_pipeline/3_model.py
      hash: md5
      md5: e9eba0b8a039425b0d6867426497f3ac
      size: 11445
    params:
      params.yaml:
        model.try_models: false
        model.tune_rf: true
        model.tune_xgb: false
  dl:
    cmd: python ./src/dvc_pipeline/4_dl.py
    deps:
    - path: ./src/dvc_pipeline/4_dl.py
      hash: md5
      md5: 8bf11a47525041e4d531374dca0ebdca
      size: 4508
    params:
      params.yaml:
        dl.model: false
  register_model:
    cmd: python ./src/dvc_pipeline/5_register_model.py
    deps:
    - path: ./src/dvc_pipeline/5_register_model.py
      hash: md5
      md5: 776f8b0036a103fd0430f5ff7f9a42db
      size: 1517
    params:
      params.yaml:
        register_model.register: false
  model_report:
    cmd: python ./src/dvc_pipeline/6_model_report.py
    params:
      params.yaml:
        model_report.best_model_name: best_model_ann
        model_report.best_model_version: 4
        model_report.generate_report: true
    outs:
    - path: ./reports
      hash: md5
      md5: 5ee8b999ae7cf87dbf6cea4d8bf5b81b.dir
      size: 61958
      nfiles: 3
