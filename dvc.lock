schema: '2.0'
stages:
  preprocess:
    cmd: python ./src/dvc_pipeline/0_preprocess.py
    deps:
    - path: ./src/dvc_pipeline/0_preprocess.py
      hash: md5
      md5: d70cc87f156da440bffaa8d1666a1ec1
      size: 7309
    params:
      params.yaml:
        preprocess.char_per_words: true
        preprocess.comment_len: true
        preprocess.word_count: true
    outs:
    - path: ./data/processed/
      hash: md5
      md5: 08993c93844c468aa1e1914df09959ba.dir
      size: 2788380
      nfiles: 1
  transform:
    cmd: python ./src/dvc_pipeline/1_vetorisation.py
    deps:
    - path: ./src/dvc_pipeline/1_vetorisation.py
      hash: md5
      md5: a7e0be487fb794e1b5e8dfe34da03add
      size: 5131
    params:
      params.yaml:
        transform.ngram_range: 1,2
        transform.no_of_features: 2000
        transform.standardise: false
        transform.test_size: 0.2
    outs:
    - path: ./data/train_test_split/
      hash: md5
      md5: c16e94091b0e314563581227748309ad.dir
      size: 151425007
      nfiles: 6
  imb:
    cmd: python ./src/dvc_pipeline/2_imb_handling.py
    deps:
    - path: ./src/dvc_pipeline/2_imb_handling.py
      hash: md5
      md5: a755eed08514b74b003b3f5f6e9aceff
      size: 2111
    params:
      params.yaml:
        imb.over_sampling_tech: none
    outs:
    - path: ./data/oversampled/
      hash: md5
      md5: ee2136b46b8d2b21d6834817ebf89608.dir
      size: 148178641
      nfiles: 2
  model:
    cmd: python ./src/dvc_pipeline/3_model.py
    deps:
    - path: ./src/dvc_pipeline/3_model.py
      hash: md5
      md5: 976a688b81503736f67585c7d848b53a
      size: 11154
    params:
      params.yaml:
        model.try_models: false
        model.tune_rf: true
        model.tune_xgb: false
  dl:
    cmd: python ./src/dvc_pipeline/4_dl.py
    deps:
    - path: ./src/dvc_pipeline/4_dl.py
      hash: md5
      md5: 19706506622e28aecb53ad4bcb446e28
      size: 4364
    params:
      params.yaml:
        dl.model: false
  register_model:
    cmd: python ./src/dvc_pipeline/5_register_model.py
    deps:
    - path: ./src/dvc_pipeline/5_register_model.py
      hash: md5
      md5: dec2fdf9c53f7c45c583bec5f666abd9
      size: 1467
    params:
      params.yaml:
        register_model.register: false
  model_report:
    cmd: python ./src/dvc_pipeline/6_model_report.py
    params:
      params.yaml:
        model_report.best_model_name: best_model_ann
        model_report.best_model_version: 4
        model_report.generate_report: true
    outs:
    - path: ./reports
      hash: md5
      md5: 1f619df29660d444975f5ac63b8b36d8.dir
      size: 61916
      nfiles: 3
