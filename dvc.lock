schema: '2.0'
stages:
  preprocess:
    cmd: python ./src/dvc_pipeline/0_preprocess.py
    deps:
    - path: ./src/dvc_pipeline/0_preprocess.py
      hash: md5
      md5: 4d0b2b86d2361fae5c26d6c400856e10
      size: 7688
    params:
      params.yaml:
        preprocess.char_per_words: true
        preprocess.comment_len: true
        preprocess.word_count: true
    outs:
    - path: ./data/processed/
      hash: md5
      md5: aeea058807d2f9547009cb68df4a297b.dir
      size: 2806255
      nfiles: 1
  transform:
    cmd: python ./src/dvc_pipeline/1_vetorisation.py
    deps:
    - path: ./src/dvc_pipeline/1_vetorisation.py
      hash: md5
      md5: 60c6ccb4cf562aa9ce79972c9f66244d
      size: 4419
    params:
      params.yaml:
        transform.ngram_range: 1,2
        transform.no_of_features: 2000
        transform.standardise: false
        transform.test_size: 0.2
    outs:
    - path: ./data/train_test_split/
      hash: md5
      md5: 4617f1e269202ce554c018a3eb27c9a8.dir
      size: 148999799
      nfiles: 4
  imb:
    cmd: python ./src/dvc_pipeline/2_imb_handling.py
    deps:
    - path: ./src/dvc_pipeline/2_imb_handling.py
      hash: md5
      md5: a02f97f72e567ef72fde75ffd1c605f0
      size: 1706
    params:
      params.yaml:
        imb.over_sampling_tech: none
    outs:
    - path: ./data/oversampled/
      hash: md5
      md5: b9d53d27ecaabd07f006f5f8882897b5.dir
      size: 148533791
      nfiles: 2
  model:
    cmd: python ./src/dvc_pipeline/3_model.py
    deps:
    - path: ./src/dvc_pipeline/3_model.py
      hash: md5
      md5: 59869cd41eed59cebccebc635c2d038f
      size: 10470
    params:
      params.yaml:
        model.try_models: true
        model.tune_rf: false
        model.tune_xgb: false
  dl:
    cmd: python ./src/dvc_pipeline/4_dl.py
    deps:
    - path: ./src/dvc_pipeline/4_dl.py
      hash: md5
      md5: 8bf11a47525041e4d531374dca0ebdca
      size: 4508
    params:
      params.yaml:
        dl.model: false
  register_model:
    cmd: python ./src/dvc_pipeline/5_register_model.py
    deps:
    - path: ./src/dvc_pipeline/5_register_model.py
      hash: md5
      md5: 4180a509650f59f7520d124a33caddf3
      size: 1412
    params:
      params.yaml:
        register_model.register: false
  model_report:
    cmd: python ./src/dvc_pipeline/6_model_report.py
    params:
      params.yaml:
        model_report.best_model_name: best_model_ann
        model_report.best_model_version: 2
        model_report.generate_report: false
    outs:
    - path: ./reports
      hash: md5
      md5: d751713988987e9331980363e24189ce.dir
      size: 0
      nfiles: 0
