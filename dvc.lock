schema: '2.0'
stages:
  preprocess:
    cmd: python ./src/dvc_pipeline/0_preprocess.py
    deps:
    - path: ./src/dvc_pipeline/0_preprocess.py
      hash: md5
      md5: b388b9a223b9786e9cdba59f1c5a1ee2
      size: 6658
    params:
      params.yaml:
        preprocess.char_per_words: true
        preprocess.comment_len: true
        preprocess.word_count: true
    outs:
    - path: ./data/processed/
      hash: md5
      md5: b09ae8da10346ac9c10e11751b797e75.dir
      size: 2735813
      nfiles: 1
  transform:
    cmd: python ./src/dvc_pipeline/1_vetorisation.py
    deps:
    - path: ./src/dvc_pipeline/1_vetorisation.py
      hash: md5
      md5: cf2d4f045466971a6b16571bf4930168
      size: 4085
    params:
      params.yaml:
        transform.ngram_range: 1,2
        transform.no_of_features: 2000
        transform.standardise: false
        transform.test_size: 0.2
    outs:
    - path: ./data/train_test_split/
      hash: md5
      md5: 23d7dcb194904fc5b93cace67fafb1ad.dir
      size: 98773529
      nfiles: 4
  imb:
    cmd: python ./src/dvc_pipeline/2_imb_handling.py
    deps:
    - path: ./src/dvc_pipeline/2_imb_handling.py
      hash: md5
      md5: 93bc72050ad8a2c7a89e95dd123bda09
      size: 1688
    params:
      params.yaml:
        imb.over_sampling_tech: SMOTE
    outs:
    - path: ./data/oversampled/
      hash: md5
      md5: 750ea9da15eada7fb44a1b53b5771300.dir
      size: 175593307
      nfiles: 2
  model:
    cmd: python ./src/dvc_pipeline/3_model.py
    deps:
    - path: ./src/dvc_pipeline/3_model.py
      hash: md5
      md5: fb042500587849951cf8da6183da0ff4
      size: 10420
    params:
      params.yaml:
        model.try_models: false
        model.tune_rf: true
        model.tune_xgb: false
  dl:
    cmd: python ./src/dvc_pipeline/4_dl.py
    deps:
    - path: ./src/dvc_pipeline/4_dl.py
      hash: md5
      md5: 2cfae445ae9dfc91bafc09143c9ee1fe
      size: 3801
    params:
      params.yaml:
        dl.model: false
  register_model:
    cmd: python ./src/dvc_pipeline/5_register_model.py
    deps:
    - path: ./src/dvc_pipeline/5_register_model.py
      hash: md5
      md5: c2f785f1e5c7b5d1eccef988cf0990bc
      size: 1427
    params:
      params.yaml:
        register_model.register: true
