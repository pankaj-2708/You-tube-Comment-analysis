schema: '2.0'
stages:
  preprocess:
    cmd: python ./src/dvc_pipeline/0_preprocess.py
    deps:
    - path: ./src/dvc_pipeline/0_preprocess.py
      hash: md5
      md5: b388b9a223b9786e9cdba59f1c5a1ee2
      size: 6658
    params:
      params.yaml:
        preprocess.char_per_words: true
        preprocess.comment_len: true
        preprocess.word_count: true
    outs:
    - path: ./data/processed/
      hash: md5
      md5: b09ae8da10346ac9c10e11751b797e75.dir
      size: 2735813
      nfiles: 1
  transform:
    cmd: python ./src/dvc_pipeline/1_vetorisation.py
    deps:
    - path: ./src/dvc_pipeline/1_vetorisation.py
      hash: md5
      md5: e79a85a9714dfdb6f095db780f34a367
      size: 2684
    params:
      params.yaml:
        transform.ngram_range: 1,2
        transform.no_of_features: 2000
        transform.standardise: false
    outs:
    - path: ./data/transformed/
      hash: md5
      md5: 0d0c53b6e02a723f6373d83150258de6.dir
      size: 145138577
      nfiles: 3
  imb:
    cmd: python ./src/dvc_pipeline/2_imb_handling.py
    deps:
    - path: ./src/dvc_pipeline/2_imb_handling.py
      hash: md5
      md5: 746f418807aa3eb846f77198b12674f9
      size: 1833
    params:
      params.yaml:
        imb.test_size: 0.2
    outs:
    - path: ./data/train_test_split/
      hash: md5
      md5: ce00d9d5000c94723b2234db09779eef.dir
      size: 271927130
      nfiles: 2
  model:
    cmd: python ./src/dvc_pipeline/3_model.py
    deps:
    - path: ./src/dvc_pipeline/3_model.py
      hash: md5
      md5: 7ff964befd08cfd243c98131d035b5c3
      size: 10522
    params:
      params.yaml:
        model.try_models: false
        model.tune_rf: true
        model.tune_xgb: false
  dl:
    cmd: python ./src/dvc_pipeline/4_dl.py
    deps:
    - path: ./src/dvc_pipeline/4_dl.py
      hash: md5
      md5: 2cfae445ae9dfc91bafc09143c9ee1fe
      size: 3801
    params:
      params.yaml:
        dl.model: false
  register_model:
    cmd: python ./src/dvc_pipeline/5_register_model.py
    deps:
    - path: ./src/dvc_pipeline/5_register_model.py
      hash: md5
      md5: c2f785f1e5c7b5d1eccef988cf0990bc
      size: 1427
    params:
      params.yaml:
        register_model.register: true
